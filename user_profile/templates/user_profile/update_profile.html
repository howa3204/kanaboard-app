{% extends 'account_settings/settings.html' %}
{% load static %}
{% load widget_tweaks %}

{% block content %}

<div class="d-flex flex-column-fluid">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <div class="flex-row-fluid">
          <div class="card card-custom">
            <div class="card-header py-3">
              <div class="card-title align-items-start flex-column">
                <h3 class="card-label font-weight-bolder text-dark">Profile</h3>
                <span class="text-muted font-weight-bold font-size-sm mt-1">Update your profile</span>
              </div>
            </div>
            <form action="" method="POST">
            {% csrf_token %}
              <div class="card-body">
                <div class="form-group row">
                  <label class="col-xl-3 col-lg-3 col-form-label">Name</label>
                  <div class="col-lg-9 col-xl-6">
                    {% render_field form.first_name class="input form-control form-control-lg form-control-solid" type="text" %}
                  </div>
                </div>

                <div class="form-group row">
                  <label class="col-xl-3 col-lg-3 col-form-label">Username</label>
                  <div class="col-lg-9 col-xl-6">
                    <div class="input-group input-group-lg input-group-solid">
                      {% render_field form.username class="input form-control form-control-lg form-control-solid" type="text" %}
                    </div>
                  </div>
                </div>

                <div class="form-group row">
                  <label class="col-xl-3 col-lg-3 col-form-label">Email</label>
                  <div class="col-lg-9 col-xl-6">
                    {% render_field form.email class="input form-control form-control-lg form-control-solid" type="email" %}

                    {% if form.errors %}
                      {% for field in form %}
                        {% for error in field.errors %}
                            <p class="form-error text-danger mt-3 mb-0">{{ error|escape }}</p>
                        {% endfor %}
                      {% endfor %}
                    {% endif %}

                    {% if form.non_field_errors %}
                      {% for field in form %}
                        {% for error in form.non_field_errors %}
                          <p class="form-error text-danger mt-3 mb-0">{{ error|escape }}</p>
                        {% endfor %}
                      {% endfor %}
                    {% endif %}
                  </div>
                </div>

                <label class="col-xl-3 col-lg-3 col-form-label"></label>
                <input class="btn btn-sm btn-light-primary font-weight-bold" type="submit" name="Submit" value="Save Changes">
                <a class="btn btn-sm btn-light-secondary text-dark font-weight-bold" href="{% url 'user_profile:profile' %}">Cancel</a>

              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

{% endblock %}
